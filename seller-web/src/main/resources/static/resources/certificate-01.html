<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>


    <script src="http://static.thinker.vc/static/wgt/jquery/jquery-1.9.1.min.js" type="text/javascript"></script>
    <script src="http://static.thinker.vc/static/wgt/jquery/jquery-migrate-1.1.1.min.js" type="text/javascript"></script>
    <link href="http://static.thinker.vc/static/wgt/jquery-validation/1.11.1/jquery.validate.min.css" type="text/css" rel="stylesheet" />
    <script src="http://static.thinker.vc/static/wgt/jquery-validation/1.11.1/jquery.validate.min.js" type="text/javascript"></script>
    <script src="http://static.thinker.vc/static/wgt/jquery-validation/1.11.1/jquery.validate.method.min.js" type="text/javascript"></script>
    <script src="http://static.thinker.vc/static/wgt/jquery-form/jquery.form.min.js" type="text/javascript"></script>
    <script src="http://static.thinker.vc/static/bootstrap/v3/bootstrap.min.js" type="text/javascript"></script>
    <link href="http://static.thinker.vc/static/bootstrap/v3/bootstrap.min.css" type="text/css" rel="stylesheet"/>
    <!--[if lte IE 6]><link href="http://static.thinker.vc/static/bootstrap/bsie/css/bootstrap-ie6.min.css" type="text/css" rel="stylesheet" />
    <script src="http://static.thinker.vc/static/bootstrap/bsie/js/bootstrap-ie.min.js" type="text/javascript"></script><![endif]-->
    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <script src="http://static.thinker.vc/static/wgt/My97DatePicker/WdatePicker.js" type="text/javascript"></script>
    <script src="http://static.thinker.vc/static/common/mustache.min.js" type="text/javascript"></script>
    <script src="http://static.thinker.vc/static/wgt/list/list.min.js" type="text/javascript"></script>
    <script src="http://static.thinker.vc/static/wgt/jquery-select2/3.4/select2.min.js"></script>
    <link href="http://static.thinker.vc/static/wgt/jquery-select2/3.4/select2.css" rel="stylesheet"/>
    <!--
    <link href="http://static.thinker.vc/static/wgt/x-editable/css/bootstrap-editable.css" type="text/css" rel="stylesheet" />
    <script src="http://static.thinker.vc/static/wgt/x-editable/js/bootstrap-editable.js" type="text/javascript"></script>
    -->
    <link href="http://static.thinker.vc/static/wgt/jquery-jbox/2.3/Skins/Bootstrap/jbox.css" rel="stylesheet" />
    <script type="text/javascript" src="http://static.thinker.vc/static/wgt/jquery-jbox/2.3/jquery.jBox-2.3.min.js"></script>
    <link type="text/css" rel="stylesheet" href="/resources/css/reg.css">
    <link type="text/css" rel="stylesheet" href="/resources/css/main.css">
    <script type="text/javascript" src="/resources/js/common.js"></script>


</head>
<body>

<div class="nav">
    <i class="icon icon-home"></i>您的位置：首页 > 服务商认证
</div>

<div class="main">
    <div class="title-simple">服务商认证</div>

    <div class="cert-box">
        <div class="cert-step">
            <div class="item active-01"></div>
        </div>
        <div class="cert-form">
            <form id="reg-form">
                <ul class="reg-form">
                    <li>
                        <div class="title">服务商名称<span class="c-red">＊</span></div>
                        <div class="cont"><input type="text" value="" class="inp-text" />
                        </div>
                    </li>
                    <li>
                        <div class="title">公司名称<span class="c-red">＊</span></div>
                        <div class="cont"><input type="text" value="" class="inp-text" /></div>
                    </li>
                    <li>
                        <div class="title">银行开户名<span class="c-red">＊</span></div>
                        <div class="cont"><input type="text" value="" class="inp-text" /></div>
                    </li>
                    <li>
                        <div class="title">银行卡号<span class="c-red">＊</span></div>
                        <div class="cont"><input type="text" value="" class="inp-text" /></div>
                    </li>
                    <li>
                        <div class="title">开户行<span class="c-red">＊</span></div>
                        <div class="cont"><input type="text" value="" class="inp-text" /></div>
                    </li>
                    <li>
                        <div class="title">开户行支行名称<span class="c-red">＊</span></div>
                        <div class="cont"><input type="text" value="" class="inp-text" /></div>
                    </li>
                    <li>
                        <div class="title">开户行所在地<span class="c-red">＊</span></div>
                        <div class="cont"><input id="myInput" type="hidden" value="" /></div>
                    </li>
                    <li>
                        <div class="title">服务类目<span class="c-red">＊</span></div>
                        <div class="cont"><select class="inp-text" style="margin-left: 0;"><option>服务业</option></select></div>
                    </li>
                    <li>
                        <div class="title"> 地区<span class="c-red">＊</span></div>
                        <div class="cont"><input id="address" type="hidden" value="" /></div>
                    </li>
                    <li class="map-li">
                        <div class="title">地址<span class="c-red">＊</span></div>
                        <div class="cont"><input type="text" id="userAddaddress" value="" class="inp-text" autocomplete="off" />
                            <div id="r-result" style="display: none;" class="auto-search-result"></div>
                        </div>

                    </li>
                    <li><div class="cont"><div id="map-box" style="width: 400px; height: 250px;"></div></div></li>
                    <li>
                        <div class="title">详细地址<span class="c-red">＊</span></div>
                        <div class="cont"><textarea class="inp-text"></textarea></div>
                    </li>

                </ul>
                <div class="text-center reg-btn-bar"><input type="submit" value="保存并下一步" class="btn btn-info" /></div>

            </form>

        </div>

    </div>
</div>


<link href="http://static.thinker.vc/static/wgt/area/selectAddress.css" rel="stylesheet" type="text/css" />
<script src="http://static.thinker.vc/static/wgt/area/selectAddress.js"></script>
<script type="text/javascript" src="http://api.map.baidu.com/api?type=quick&ak=D6KOy9LICC8G8g2QiyWt7kqi&v=2.0"></script>

<script>
    $("#myInput").areaSelect({
        dateUrl: "http://static.thinker.vc/static/dic/test.js"
    });
    $("#address").areaSelect({
        dateUrl: "http://static.thinker.vc/static/dic/test.js"
    });

    (function() {
        // 百度地图API功能
        var map = new BMap.Map("map-box");
        map.centerAndZoom("深圳市", 11);

        var options = {
            onSearchComplete: function(results){
                // 判断状态是否正确
                if (local.getStatus() == BMAP_STATUS_SUCCESS){
                    var s = [], cls;
                    for (var i = 0; i < results.getCurrentNumPois(); i ++){
                        i == 0 ? cls = ' active' : cls = '';
                        s.push('<div class="item' + cls + '" data-point-x="'+ results.getPoi(i).point.lng +'"  data-point-y="'+ results.getPoi(i).point.lat +'">' + results.getPoi(i).address+results.getPoi(i).title + '</div>');
                    }
                    document.getElementById("r-result").innerHTML = s.join("");
                    $("#r-result").show();
                }
            }
        };
        var local = new BMap.LocalSearch(map, options);

        $("#userAddaddress").keyup(function(e) {
            var $this = $(this), val = $.trim($this.val()), $active = $("#r-result").find(".active"), $tar;
            if (val) {
                switch(e.keyCode)
                {
                    case 38:
                        $tar = $active.prev();
                        if ($tar.length > 0) {
                            $active.removeClass("active");
                            $tar.addClass("active");
                        }
                        return false;
                        break;
                    case 40:
                        $tar = $active.next();
                        if ($tar.length > 0) {
                            $active.removeClass("active");
                            $tar.addClass("active");
                        }
                        break;
                    case 13:
                        $active.click();
                        break;
                    default:
                        local.search($(this).val());
                }
            }
        });

        $("#r-result").click(function(e) {
            var $this = $(e.target);
            $("#addressLat").val($this.data("point-y"));
            $("#addressLng").val($this.data("point-x"));
            $("#userAddaddress").val($this.text());
            $("#r-result").hide();

            map.clearOverlays();

            var myGeo = new BMap.Geocoder();
            myGeo.getPoint($this.text(), function(point){
                if (point) {
                    map.centerAndZoom(point, 16);
                    map.addOverlay(new BMap.Marker(point));
                }else{
                    alert("您选择地址没有解析到结果!");
                }
            });

        }).mouseover(function(e) {
            var $this = $(e.target);
            $this.addClass("active").siblings().removeClass("active");
        });

        $("#addressListDiv").click(function(e){
            var $this = $(e.target);
            var dlTag = $this.parents(".J-address-box").find("dl");
            if(dlTag && dlTag.length > 0)
            {
                $.get("/user/user_address_update/${uid}?addressId="+dlTag.attr("addressId"),function (data){});
                setAddressToUserInfo(dlTag.attr("addressId"), dlTag.find("dd:eq(0)").html(), dlTag.find("dd:eq(1)").html(), dlTag.find("dd:eq(2)").html());
            }
        });

    }());
</script>

</body>
</html>